### claritmux — much clearer status bar with window (bell/activity/current/last) and also pane border
# based on @89iuv's great config from https://github.com/catppuccin/tmux/discussions/317#discussioncomment-11064512
# cf. https://github.com/tmux/tmux/wiki/Formats
# cf. https://www.nerdfonts.com/cheat-sheet

# Default color palette (mocha-inspired, override with @claritmux_color_* before loading)
set -ogq @claritmux_color_bg           '#1e1e2e'
set -ogq @claritmux_color_fg           '#9399b2'
set -ogq @claritmux_color_separator    '#6c7086'
set -ogq @claritmux_color_inactive     '#6c7086'
set -ogq @claritmux_color_active       '#a6e3a1'
set -ogq @claritmux_color_bell         '#f38ba8'
set -ogq @claritmux_color_prefix       '#89dceb'
set -ogq @claritmux_color_session      '#585b70'
set -ogq @claritmux_color_path         '#89b4fa'
set -ogq @claritmux_color_date         '#f9e2af'
set -ogq @claritmux_color_day          '#fab387'
set -ogq @claritmux_color_time         '#f38ba8'
set -ogq @claritmux_color_timezone     '#45475a'
set -ogq @claritmux_color_host         '#585b70'

set -ogqF @claritmux_style_status                'bg=#{@claritmux_color_bg}'
set -ogqF @claritmux_style_status_separator      'bg=#{@claritmux_color_bg},fg=#{@claritmux_color_separator},none'
set -ogqF @claritmux_style_status_while_prefix   'bg=#{@claritmux_color_prefix},fg=#{@claritmux_color_bg},bold'
set -ogqF @claritmux_style_status_session        'bg=#{@claritmux_color_bg},fg=#{@claritmux_color_session}'
set -ogqF @claritmux_style_status_path           'bg=#{@claritmux_color_bg},fg=#{@claritmux_color_path}'
set -ogqF @claritmux_style_status_date           'bg=#{@claritmux_color_bg},fg=#{@claritmux_color_date}'
set -ogqF @claritmux_style_status_day            'bg=#{@claritmux_color_bg},fg=#{@claritmux_color_day}'
set -ogqF @claritmux_style_status_time           'bg=#{@claritmux_color_bg},fg=#{@claritmux_color_time}'
set -ogqF @claritmux_style_status_timezone       'bg=#{@claritmux_color_bg},fg=#{@claritmux_color_timezone}'
set -ogqF @claritmux_style_status_host           'bg=#{@claritmux_color_bg},fg=#{@claritmux_color_host}'
set -ogqF @claritmux_style_window_status         'bg=#{@claritmux_color_bg},fg=#{@claritmux_color_fg}'
set -ogqF @claritmux_style_pane_active           'bg=#{@claritmux_color_bg},fg=#{@claritmux_color_active},bold'
set -ogqF @claritmux_style_pane_active_border    'bg=#{@claritmux_color_active},fg=#{@claritmux_color_active}'
set -ogqF @claritmux_style_pane_inactive         'bg=#{@claritmux_color_inactive},fg=#{@claritmux_color_bg}'
set -ogqF @claritmux_style_pane_inactive_border  'bg=#{@claritmux_color_bg},fg=#{@claritmux_color_inactive}'

set -ogq  @claritmux_format_window_named         ' #{=/24/...:#{window_name}}'
set -ogq  @claritmux_format_window_unnamed       ' #{=/-24/...:#{b:pane_current_path}}'

set -ogq status-position bottom
set -ogq status-justify left  # or absolute-centre, right

## status left look and feel
set -ogq status-left-length 100
set -gF status-style "#{@claritmux_style_status}"
set -g status-left ""
set -ga status-left "#[#{@claritmux_style_status_session}]"
# show prefix status
set -ga status-left "#{?client_prefix,#{#[#{@claritmux_style_status_while_prefix}]},}"
# show session
set -ga status-left "  #{=/32/...:#{session_name}} "
# last separator
set -ga status-left "#[#{@claritmux_style_status_separator}]│"

## status right look and feel
set -g status-right-length 100
set -g status-right ""
# first separator
set -ga status-right "#[#{@claritmux_style_status_separator}]│"
# show workdir
set -ga status-right "#[#{@claritmux_style_status_path}]  #{=/-32/...:#{s|$HOME|~|:#{pane_current_path}}} "
set -ga status-right "#[#{@claritmux_style_status_separator}]│"
# show time
set -ga status-right " "
set -ga status-right "#[#{@claritmux_style_status_date}]󰭦 %Y-%m-%d"
set -ga status-right "#[#{@claritmux_style_status_day}] %a "
set -ga status-right "#[#{@claritmux_style_status_time}]󰅐 %H:%M:%S"
set -ga status-right "#[#{@claritmux_style_status_timezone}] %Z"
set -g  status-interval 1
set -ga status-right " "
set -ga status-right "#[#{@claritmux_style_status_separator}]│"
# show host
set -ga status-right "#[#{@claritmux_style_status_host}] 󰒍 #h "

# window look and feel
set -wg automatic-rename on
set -g automatic-rename-format ""
set -gF window-status-format         " ##I:##{?##{!=:##{window_name},},#{@claritmux_format_window_named},#{@claritmux_format_window_unnamed}} "
set -gF window-status-current-format " ##I:##{?##{!=:##{window_name},},#{@claritmux_format_window_named},#{@claritmux_format_window_unnamed}} "
set -gF window-status-separator      "#[#{@claritmux_style_status_separator}]│#[default]"
set -gF window-status-style          "#{@claritmux_style_window_status}"
set -gF window-status-current-style  "bg=#{@claritmux_color_active},fg=#{@claritmux_color_bg},bold"
set -gF window-status-last-style     "bg=#{@claritmux_color_bg},fg=#{@claritmux_color_active},bold"
set -gF window-status-activity-style "blink"
set -gF window-status-bell-style     "bg=#{@claritmux_color_bell},blink,fg=#{@claritmux_color_bg},blink"

# pane border look and feel
setw -g pane-border-status top
setw -g  pane-border-format ""
# TODO show zoom status and title when zoomed or only one pane
setw -ga pane-border-format "#{?pane_active,#{#[#{@claritmux_style_pane_active}]},#{#[#{@claritmux_style_pane_inactive}]}}"
setw -ga pane-border-format " "
setw -ga pane-border-format "#{?window_zoomed_flag,  ,}"
setw -ga pane-border-format " #P: #{pane_current_command} "
setw -ga pane-border-format "│"
setw -ga pane-border-format " #T "
setw -ga pane-border-format " "
setw -ga pane-border-format "#[default]"
setw -gF pane-active-border-style "#{@claritmux_style_pane_active_border}"
setw -gF pane-border-style        "#{@claritmux_style_pane_inactive_border}"
setw -g pane-border-lines single

# vim:ft=tmux
